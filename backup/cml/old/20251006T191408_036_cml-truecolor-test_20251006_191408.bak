#!/usr/bin/env bash
# =====================================================
# COLOR MASTER TRUECOLOR ENGINE SELF-TEST v1.4.1
# =====================================================

CML_DIR="$HOME/kh-scripts/library/colors"
source "$CML_DIR/cml-truecolor.sh"

printf "\nðŸŒˆ %sTRUECOLOR ENGINE SELF-TEST%s\n" "$(rgb_fg 0 255 255)" "$(cml_reset)"
printf "%sENGINE VERSION:%s %s\n\n" "$(rgb_fg 0 200 255)" "$(cml_reset)" "$(rgb_fg 255 255 0)$CML_TRUECOLOR_VERSION$(cml_reset)"
printf "%sCURRENT ACTIVE THEME:%s %s\n\n" "$(rgb_fg 0 200 255)" "$(cml_reset)" "$(rgb_fg 255 255 0)$CURRENT_THEME$(cml_reset)"

THEMES=("CLASSIC" "FOREST" "DESERT" "OCEAN" "SUMMER" "WINTER" "WILD" "NEON:RED" "NEON:ORANGE" "NEON:BLUE" "NEON:PURPLE")

for theme in "${THEMES[@]}"; do
  printf "%sâ”€â”€â”€ TESTING THEME: %s â”€â”€â”€%s\n" "$(rgb_fg 180 180 180)" "$theme" "$(cml_reset)"
  cml_load_palette "$theme"
  printf "%sâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ%s\n" "$(rgb_bg "${PALETTE[0]}" "${PALETTE[1]}" "${PALETTE[2]}")" "$(cml_reset)"
  printf "%sTHE QUICK BROWN FOX JUMPS OVER THE LAZY DOG%s\n\n" "$(rgb_fg "${PALETTE[6]}" "${PALETTE[7]}" "${PALETTE[8]}")" "$(cml_reset)"
done

printf "%sâœ” ALL TESTS PASSED IF COLORS AND GRADIENTS DISPLAY CORRECTLY.%s\n" "$(rgb_fg 0 255 0)" "$(cml_reset)"
